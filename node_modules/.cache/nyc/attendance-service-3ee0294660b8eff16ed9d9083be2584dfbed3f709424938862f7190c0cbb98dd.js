function cov_ogsixwme6(){var path="/home/serhat/JavaScript/meetup-clone/services/attendance-service.js";var hash="e4baf96c32fe4bd585b3f95df6c03e40d917b0a6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/serhat/JavaScript/meetup-clone/services/attendance-service.js",statementMap:{"0":{start:{line:1,column:20},end:{line:1,column:45}},"1":{start:{line:2,column:22},end:{line:2,column:49}},"2":{start:{line:3,column:22},end:{line:3,column:49}},"3":{start:{line:9,column:19},end:{line:9,column:53}},"4":{start:{line:10,column:19},end:{line:10,column:53}},"5":{start:{line:11,column:4},end:{line:11,column:32}},"6":{start:{line:12,column:4},end:{line:12,column:33}},"7":{start:{line:13,column:4},end:{line:13,column:36}},"8":{start:{line:14,column:4},end:{line:14,column:36}},"9":{start:{line:18,column:0},end:{line:18,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:0},end:{line:8,column:1}},loc:{start:{line:8,column:39},end:{line:15,column:3}},line:8}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e4baf96c32fe4bd585b3f95df6c03e40d917b0a6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ogsixwme6=function(){return actualCoverage;};}return actualCoverage;}cov_ogsixwme6();const BaseService=(cov_ogsixwme6().s[0]++,require('./base-service'));const personService=(cov_ogsixwme6().s[1]++,require('./person-service'));const meetupService=(cov_ogsixwme6().s[2]++,require('./meetup-service'));//TODO: Why here?, because we do not want to give person service the power to change meetup vice versa.
class AttendanceService{async attendMeetup(personId,meetupId){cov_ogsixwme6().f[0]++;const person=(cov_ogsixwme6().s[3]++,await personService.find(personId));const meetup=(cov_ogsixwme6().s[4]++,await meetupService.find(meetupId));cov_ogsixwme6().s[5]++;person.meetups.push(meetup);cov_ogsixwme6().s[6]++;meetup.attendes.push(person);cov_ogsixwme6().s[7]++;await personService.saveModel();cov_ogsixwme6().s[8]++;await meetupService.saveModel();}}cov_ogsixwme6().s[9]++;module.exports=new AttendanceService();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYXNlU2VydmljZSIsInJlcXVpcmUiLCJwZXJzb25TZXJ2aWNlIiwibWVldHVwU2VydmljZSIsIkF0dGVuZGFuY2VTZXJ2aWNlIiwiYXR0ZW5kTWVldHVwIiwicGVyc29uSWQiLCJtZWV0dXBJZCIsInBlcnNvbiIsImZpbmQiLCJtZWV0dXAiLCJtZWV0dXBzIiwicHVzaCIsImF0dGVuZGVzIiwic2F2ZU1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImF0dGVuZGFuY2Utc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBCYXNlU2VydmljZSA9IHJlcXVpcmUoJy4vYmFzZS1zZXJ2aWNlJylcbmNvbnN0IHBlcnNvblNlcnZpY2UgPSByZXF1aXJlKCcuL3BlcnNvbi1zZXJ2aWNlJylcbmNvbnN0IG1lZXR1cFNlcnZpY2UgPSByZXF1aXJlKCcuL21lZXR1cC1zZXJ2aWNlJylcblxuXG4vL1RPRE86IFdoeSBoZXJlPywgYmVjYXVzZSB3ZSBkbyBub3Qgd2FudCB0byBnaXZlIHBlcnNvbiBzZXJ2aWNlIHRoZSBwb3dlciB0byBjaGFuZ2UgbWVldHVwIHZpY2UgdmVyc2EuXG5jbGFzcyBBdHRlbmRhbmNlU2VydmljZXtcbmFzeW5jIGF0dGVuZE1lZXR1cChwZXJzb25JZCwgbWVldHVwSWQpIHtcbiAgICBjb25zdCBwZXJzb24gPSBhd2FpdCBwZXJzb25TZXJ2aWNlLmZpbmQocGVyc29uSWQpO1xuICAgIGNvbnN0IG1lZXR1cCA9IGF3YWl0IG1lZXR1cFNlcnZpY2UuZmluZChtZWV0dXBJZCk7IFxuICAgIHBlcnNvbi5tZWV0dXBzLnB1c2gobWVldHVwKTtcbiAgICBtZWV0dXAuYXR0ZW5kZXMucHVzaChwZXJzb24pO1xuICAgIGF3YWl0IHBlcnNvblNlcnZpY2Uuc2F2ZU1vZGVsKCk7XG4gICAgYXdhaXQgbWVldHVwU2VydmljZS5zYXZlTW9kZWwoKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQXR0ZW5kYW5jZVNlcnZpY2UoKVxuICAiXSwibWFwcGluZ3MiOiJtMkNBZVk7eUZBZlosS0FBTUEsQ0FBQUEsV0FBVyx5QkFBR0MsT0FBTyxDQUFDLGdCQUFELENBQVYsQ0FBakIsQ0FDQSxLQUFNQyxDQUFBQSxhQUFhLHlCQUFHRCxPQUFPLENBQUMsa0JBQUQsQ0FBVixDQUFuQixDQUNBLEtBQU1FLENBQUFBLGFBQWEseUJBQUdGLE9BQU8sQ0FBQyxrQkFBRCxDQUFWLENBQW5CLENBR0E7QUFDQSxLQUFNRyxDQUFBQSxpQkFBaUIsQ0FDTCxLQUFaQyxDQUFBQSxZQUFZLENBQUNDLFFBQUQsQ0FBV0MsUUFBWCxDQUFxQix3QkFDbkMsS0FBTUMsQ0FBQUEsTUFBTSx5QkFBRyxLQUFNTixDQUFBQSxhQUFhLENBQUNPLElBQWQsQ0FBbUJILFFBQW5CLENBQVQsQ0FBWixDQUNBLEtBQU1JLENBQUFBLE1BQU0seUJBQUcsS0FBTVAsQ0FBQUEsYUFBYSxDQUFDTSxJQUFkLENBQW1CRixRQUFuQixDQUFULENBQVosQ0FGbUMsdUJBR25DQyxNQUFNLENBQUNHLE9BQVAsQ0FBZUMsSUFBZixDQUFvQkYsTUFBcEIsRUFIbUMsdUJBSW5DQSxNQUFNLENBQUNHLFFBQVAsQ0FBZ0JELElBQWhCLENBQXFCSixNQUFyQixFQUptQyx1QkFLbkMsS0FBTU4sQ0FBQUEsYUFBYSxDQUFDWSxTQUFkLEVBQU4sQ0FMbUMsdUJBTW5DLEtBQU1YLENBQUFBLGFBQWEsQ0FBQ1csU0FBZCxFQUFOLENBQ0QsQ0FSb0IsQyx1QkFXdkJDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixHQUFJWixDQUFBQSxpQkFBSixFQUFqQiJ9